{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\IOTproject\\\\web_app\\\\src\\\\components\\\\dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport ApiService from '../services/apiservice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [sessions, setSessions] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchSessions = async () => {\n      try {\n        const response = await ApiService.getSessions();\n        setSessions(response.data);\n      } catch (error) {\n        console.error('Erreur lors du chargement des sessions :', error);\n      }\n    };\n    fetchSessions();\n  }, []);\n  const handleSessionClick = sessionId => {\n    navigate('/vote', {\n      state: {\n        sessionId\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Tableau de bord\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Bienvenue ! Veuillez s\\xE9lectionner une session de vote :\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: sessions.map(session => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          cursor: 'pointer',\n          margin: '10px 0'\n        },\n        onClick: () => handleSessionClick(session.session_id),\n        children: [\"Session ID: \", session.session_id, \" - Statut: \", session.status]\n      }, session.session_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"Qg+J2kcP9CX9g3BYuwqoWUIxBXw=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ApiService","jsxDEV","_jsxDEV","Dashboard","_s","sessions","setSessions","navigate","fetchSessions","response","getSessions","data","error","console","handleSessionClick","sessionId","state","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","map","session","cursor","margin","onClick","session_id","status","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/IOTproject/web_app/src/components/dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ApiService from '../services/apiservice';\r\n\r\nfunction Dashboard() {\r\n  const [sessions, setSessions] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchSessions = async () => {\r\n      try {\r\n        const response = await ApiService.getSessions();\r\n        setSessions(response.data);\r\n      } catch (error) {\r\n        console.error('Erreur lors du chargement des sessions :', error);\r\n      }\r\n    };\r\n\r\n    fetchSessions();\r\n  }, []);\r\n\r\n  const handleSessionClick = (sessionId) => {\r\n    navigate('/vote', { state: { sessionId } });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h1>Tableau de bord</h1>\r\n      <p>Bienvenue ! Veuillez s√©lectionner une session de vote :</p>\r\n      <ul>\r\n        {sessions.map((session) => (\r\n          <li\r\n            key={session.session_id}\r\n            style={{ cursor: 'pointer', margin: '10px 0' }}\r\n            onClick={() => handleSessionClick(session.session_id)}\r\n          >\r\n            Session ID: {session.session_id} - Statut: {session.status}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,UAAU,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMU,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,MAAMU,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMT,UAAU,CAACU,WAAW,CAAC,CAAC;QAC/CJ,WAAW,CAACG,QAAQ,CAACE,IAAI,CAAC;MAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;MAClE;IACF,CAAC;IAEDJ,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,kBAAkB,GAAIC,SAAS,IAAK;IACxCR,QAAQ,CAAC,OAAO,EAAE;MAAES,KAAK,EAAE;QAAED;MAAU;IAAE,CAAC,CAAC;EAC7C,CAAC;EAED,oBACEb,OAAA;IAAKe,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC9BjB,OAAA;MAAAiB,QAAA,EAAI;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACxBrB,OAAA;MAAAiB,QAAA,EAAG;IAAuD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAC9DrB,OAAA;MAAAiB,QAAA,EACGd,QAAQ,CAACmB,GAAG,CAAEC,OAAO,iBACpBvB,OAAA;QAEEe,KAAK,EAAE;UAAES,MAAM,EAAE,SAAS;UAAEC,MAAM,EAAE;QAAS,CAAE;QAC/CC,OAAO,EAAEA,CAAA,KAAMd,kBAAkB,CAACW,OAAO,CAACI,UAAU,CAAE;QAAAV,QAAA,GACvD,cACa,EAACM,OAAO,CAACI,UAAU,EAAC,aAAW,EAACJ,OAAO,CAACK,MAAM;MAAA,GAJrDL,OAAO,CAACI,UAAU;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKrB,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEV;AAACnB,EAAA,CAtCQD,SAAS;EAAA,QAECJ,WAAW;AAAA;AAAAgC,EAAA,GAFrB5B,SAAS;AAwClB,eAAeA,SAAS;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}